(function(self,globalEval){"use strict";var postMessage=self.postMessage,importScripts=self.importScripts,messageEventType="message",messageHandler=function(event){var request=event.data,response={};response.id=request.id;var data=request.data;self.input=request.input;try{switch(request.method){case"eval":response.results=globalEval(data);break;case"exec":importScripts("data:application/javascript,"+encodeURIComponent(data));break;case"load":importScripts.apply(self,data);break}}catch(e){response.error=e}delete self.input;delete self.onmessage;postMessage(response)};if(self.addEventListener){self.addEventListener(messageEventType,messageHandler,false)}else{if(self.attachEvent){self.attachEvent("on"+messageEventType,messageHandler)}}self.window=self;self.Worker=self.addEventListener=self.removeEventListener=self.importScripts=self.XMLHttpRequest=self.postMessage=self.attachEvent=self.detachEvent=self.ActiveXObject=undefined;}(self,eval));